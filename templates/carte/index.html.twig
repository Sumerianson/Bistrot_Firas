{% extends 'base.html.twig' %}

{% block title %}Hello CarteController!
{% endblock %}

{% block body %}
	{# {% if items|length > 0 %} #}
	<table class="table">
	<thead>
		<tr>
			<th>Formule</th>
			<th>Prix</th>
			<th>Quantité</th>
			<th>Total</th>
			<th></th>
		</tr>
	</thead>
	<tbody>
		{% for item in items %}
	        <tr>
	        	<td>{{ item.formule.nom }}</td>
	        	<td>{{ item.formule.prix}} €</td>
	        	<td>
					<a href="{{ path ('app_carte_add', {'id': item.formule.id}) }}" class="text-success fs-4">
					<i class="bi bi-bag-plus-fill"></i>		
					</a>

					{{ item.quantity }}
					
					<a href="{{ path ('app_carte_remove', {'id': item.formule.id}) }}" class="text-warning fs-4">
					<i class="bi bi-bag-dash-fill"></i>		
					</a>
				</td>
	        	<td>{{ item.formule.prix * item.quantity }} €</td>
	        	<td>
					<a href="{{ path ('app_carte_delete', {'id': item.formule.id}) }}" class="btn btn-danger btn-sm">
					<i class="bi bi-trash3-fill"></i>		
					</a>
	        	</td>
	        </tr>
		{% else %}
			<tr>
				<td colspan="5" class="text-center">Voter panier est vide!</td>
			</tr>
		{% endfor %}
	</tbody>
	<tfoot>
	<td colspan="3" class="fw-bold">Total : </td>
	<td>{{ total }} €</td>
	<td>
		<a href="{{ path ('app_carte_delete_all') }}" class="btn btn-danger btn-sm">
	    	<i class="bi bi-trash3-fill"></i>
	    </a>
	</td>
	</tfoot>
	</table>
	{# {% endif %} #}
{% endblock %}
